(this["webpackJsonpcomp4109-frontend"]=this["webpackJsonpcomp4109-frontend"]||[]).push([[0],{213:function(e,t,n){},330:function(e,t){},332:function(e,t){},344:function(e,t){},346:function(e,t){},373:function(e,t){},375:function(e,t){},376:function(e,t){},381:function(e,t){},383:function(e,t){},402:function(e,t){},414:function(e,t){},417:function(e,t){},420:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),c=n(13),r=n.n(c),i=(n(213),n(462)),s=n(49),l=n(15),u=n(199),d=Object(u.a)({typography:{button:{textTransform:"none"}},palette:{primary:{500:"#6200EE"}},overrides:{MuiButton:{text:{padding:"15px",paddingLeft:"50px",paddingRight:"50px",borderRadius:"5px"}}}}),h=n.p+"static/media/voteIcon.2e1e98fc.png",j=n(52),b=n(457),m=n(6),p=n(464),g="600",f=Object(m.a)({root:{fontSize:"34px",fontWeight:g,color:"black"}})(p.a),x=Object(m.a)({root:{fontSize:"24px",fontWeight:g,color:"black",marginBottom:"1em"}})(p.a),O=n(2),v=Object(b.a)((function(e){return{root:Object(j.a)({height:"100vh",width:"42%",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",backgroundColor:"".concat("#F2E7FE")},e.breakpoints.down("md"),{display:"none"}),headerText:{width:"60%",textAlign:"center",marginTop:"1em"},textWrapper:{display:"flex",flexDirection:"column",alignItems:"center",height:"20vh",marginBottom:"15vh",width:"20vw",zIndex:2},photo:{width:"120px",height:"120px"}}})),w=function(e){var t=v();return Object(O.jsx)("div",{className:t.root,children:Object(O.jsxs)("div",{className:t.textWrapper,children:[Object(O.jsx)("img",{src:e.primaryImage,alt:"voting icon",className:t.photo}),Object(O.jsx)("div",{className:t.headerText,children:Object(O.jsx)(f,{children:e.marketingText})})]})})},T=n(465),y=Object(b.a)((function(e){return{root:Object(j.a)({display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",position:"absolute",right:"0",top:"0",marginRight:"8em",marginTop:"2em",width:"25vw"},e.breakpoints.down("md"),{width:"50vw"}),acionText:{fontWeight:g},fadedText:{color:"#B0B0B0"},headerButton:{fontWeight:"bold",fontSize:"14px"}}})),N=function(e){var t=y();return Object(O.jsxs)("div",{className:t.root,children:[Object(O.jsx)("div",{className:t.fadedText,children:e.fadedText}),Object(O.jsx)(T.a,{className:t.headerButton,color:"primary",onClick:e.onClick,children:e.actionText})]})},S=n(18),C=Object(b.a)((function(e){return{loginButton:{borderRadius:"3px",fontWeight:"bold",fontSize:"fontSizeNormal"}}})),k=function(e){var t=C();return Object(O.jsx)(T.a,{variant:"contained",color:"primary",size:"large",onClick:e.handleClick,className:t.loginButton,children:e.buttonText})},L=n(36),I=n.n(L),A=(n(219),function(e){var t=e.studentNumber;return I.a.isEmpty(t)?"Student Number must not be empty.":I.a.isLength(t,{min:9,max:9})?"":"Student Number must be 9 digits long."}),B=function(e){var t=e.license;return I.a.isEmpty(t)?"Driver's License must not be empty.":I.a.isLength(t,{min:4})?"":"Driver's License must be at least 5 characters long."},D=function(e){var t=e.password;return I.a.isEmpty(t)?"Password must not be empty.":I.a.isLength(t,{min:5})?"":"Password must be at least 6 characters long."},W=n(467),E=n(463),z=n(115),U=n.n(z),R=n(196),F=n(87),G=n(197),_=n.n(G);var H=function(){var e=Object(l.e)(),t=Object(F.useGoogleLogin)({onSuccess:function(t){console.log("Login Success:",t.profileObj),function(e){var t=1e3*(e.tokenObj.expires_in||3300),n=function(){var o=Object(R.a)(U.a.mark((function o(){var a;return U.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,e.reloadAuthResponse();case 2:a=o.sent,t=1e3*(a.expires_in||3300),localStorage.setItem("authToken",a.id_token),setTimeout(n,t);case 6:case"end":return o.stop()}}),o)})));return function(){return o.apply(this,arguments)}}();setTimeout(n,t)}(t),e.push("/home")},onFailure:function(e){console.log("Login failed: :",e)},clientId:"1021955233686-g2cksio0gofnbvvmj0top1i2mfgon0i7.apps.googleusercontent.com",isSignedIn:!0,accessType:"offline"}).signIn;return Object(O.jsx)(T.a,{variant:"outlined",color:"primary",size:"large",startIcon:Object(O.jsx)(_.a,{}),onClick:t,children:"Sign in with Google"})},V=n(88),P=n.n(V),J=n(71),M=n.n(J),Y=Object(b.a)((function(e){return{loginContainer:Object(j.a)({display:"flex",flexDirection:"column",alignItems:"flex-start",width:"60%"},e.breakpoints.down("md"),{width:"100%"}),loginButtonWrapper:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",marginTop:"5vh"},loginButton:{borderRadius:"3px",fontWeight:"bold",fontSize:"fontSizeNormal"},wrapper:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"300px",paddingLeft:"10vw",paddingRight:"10vw"}}})),K=Object(m.a)({root:{width:"100%",marginTop:"5vh",height:function(e){return"true"===e.username?"450px":"375px"}}})(p.a),q=function(e){var t=Object(o.useState)(""),n=Object(S.a)(t,2),a=(n[0],n[1],Object(o.useState)("")),c=Object(S.a)(a,2),r=(c[0],c[1],Object(o.useState)("")),i=Object(S.a)(r,2),s=i[0],l=i[1],u=Object(o.useState)(""),d=Object(S.a)(u,2),h=d[0],j=(d[1],Object(o.useState)("")),b=Object(S.a)(j,2),m=b[0],p=b[1],g=Object(o.useState)(""),x=Object(S.a)(g,2),v=x[0],w=(x[1],Object(o.useState)("")),T=Object(S.a)(w,2),y=T[0],N=T[1],C=Object(o.useState)(""),L=Object(S.a)(C,2),I=L[0],z=L[1],U=Object(o.useState)(""),R=Object(S.a)(U,2),F=R[0],G=R[1],_=Object(o.useState)(""),V=Object(S.a)(_,2),J=V[0],q=V[1],Q=Object(o.useState)(""),X=Object(S.a)(Q,2),Z=X[0],$=X[1],ee=Object(o.useState)(""),te=Object(S.a)(ee,2),ne=te[0],oe=te[1],ae=Object(o.useState)(!1),ce=Object(S.a)(ae,2),re=ce[0],ie=ce[1],se=Object(o.useState)(e.snackBar),le=Object(S.a)(se,2),ue=le[0],de=le[1],he=function(e){return function(t){var n=t.target.value;"studentNumber"===e?(0===A({studentNumber:y}).length&&z(""),N(n)):"password"===e?(0===D({password:Z}).length&&oe(""),$(n)):"license"===e?(0===B({license:F}).length&&q(""),G(n)):"firstName"===e?l(n):"lastName"===e&&p(n)}},je=Y();return Object(O.jsxs)("div",{className:je.loginContainer,children:[Object(O.jsx)(W.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:re,onClose:function(){ie(!1)},message:ue}),Object(O.jsx)(f,{style:{paddingLeft:"10vw"},color:"#000000",children:e.header}),Object(O.jsxs)(K,{username:e.showUsername.toString(),children:[Object(O.jsxs)("div",{className:je.wrapper,children:[Object(O.jsx)(E.a,{error:0!==h.length,helperText:h,value:s,onChange:he("firstName"),label:"First Name"}),Object(O.jsx)(E.a,{error:0!==v.length,helperText:v,value:m,onChange:he("lastName"),label:"Last Name"}),Object(O.jsx)(E.a,{error:0!==I.length,helperText:I,value:y,onChange:he("studentNumber"),label:"Student Number"}),Object(O.jsx)(E.a,{error:0!==J.length,helperText:J,value:F,onChange:he("license"),label:"Driver's License"}),Object(O.jsx)(E.a,{error:0!==ne.length,helperText:ne,value:Z,onChange:he("password"),label:"Password",type:"password"})]}),Object(O.jsx)("div",{className:je.loginButtonWrapper,children:e.login?Object(O.jsx)(k,{handleClick:function(){var t;if(function(){var e=D({password:Z}),t=A({studentNumber:y}),n=B({license:F});return oe(e),z(t),q(n),0===n.length&&0===t.length&&0===e.length}()){var n={last_name:m,first_name:s,license:F,password:Z},o=(t=n,Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{})),a=crypto.createHash("sha256").update(JSON.stringify(o,null,2)).digest("hex");console.log("data we are trying to hash attempt : ",o),console.log("hashed data: ",a),console.log("stored hash: 4748ac615dc31581f3d4369fe83e623ab838ce5f92f02703a35ca2add16f8b56");var c={student_number:y,data_hash:a};M.a.post("http://localhost:5000/verify",c,{headers:{crossDomain:!0,"Access-Control-Allow-Origin":!0}}).then((function(){de(e.snackBar),ie(!0),P.a.set("currentUser",n),e.onClick()})).catch((function(e){console.log("error: ",e),de("User is unauthorized"),ie(!0)}))}},buttonText:e.loginText}):Object(O.jsx)(H,{})})]})]})},Q=Object(m.a)({root:{height:"100vh",width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}})(p.a),X=[{name:"Ash Ketchum"},{name:"HaoHao Du"},{name:"Alexa Liaskovski"},{name:"Justin Tran"},{name:"Alex 4109"}],Z=[{title:"HOME",route:"home"},{title:"SETTINGS",route:"settings"},{title:"LOGOUT",route:"logout"}],$=function(e){var t=Object(l.e)();return Object(O.jsxs)(Q,{children:[Object(O.jsx)(w,{primaryImage:h,marketingText:"SimplyVote"}),Object(O.jsx)(N,{fadedText:"DON'T HAVE AN ACCOUNT?",actionText:"CREATE ACCOUNT",onClick:function(){t.push("/signup")}}),Object(O.jsx)(q,{header:"Welcome back!",showConfirmPassword:!1,showUsername:!1,onClick:function(e){t.push("/home")},loginText:"Login",snackBar:"Login Successful.",login:!0})]})},ee=n(198),te=n.n(ee),ne=Object(b.a)((function(e){return{root:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",paddingLeft:"2vw"},headerText:{width:"60%",textAlign:"center"},photo:{width:"45px",height:"45px"}}})),oe=function(e){var t=ne();return Object(O.jsxs)("div",{className:t.root,children:[Object(O.jsx)("img",{src:h,alt:"voting icon",className:t.photo}),Object(O.jsx)("div",{className:t.headerText,children:Object(O.jsx)(f,{children:"SimplyVote"})})]})},ae=n(458),ce=n(461),re=n(459),ie=n(460),se=Object(b.a)((function(e){return{root:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",background:"#F2F2F2",height:"15vh",marginTop:"2em"},headerText:{paddingLeft:"3em"},buttonText:{paddingRight:"3em"}}})),le=function(e){var t=se();return Object(O.jsxs)(ae.a,{className:t.root,children:[Object(O.jsx)(re.a,{children:Object(O.jsx)(ie.a,{component:"h5",variant:"h5",className:t.headerText,children:e.name})}),Object(O.jsx)(ce.a,{className:t.buttonText,children:Object(O.jsx)(k,{handleClick:function(){e.handleSelect(e.name)},buttonText:"Select"})})]})};var ue=function(){var e=Object(l.e)(),t=Object(F.useGoogleLogout)({clientId:"1021955233686-g2cksio0gofnbvvmj0top1i2mfgon0i7.apps.googleusercontent.com",onLogoutSuccess:function(t){console.log("Logged out Success"),e.push("/")},onFailure:function(){console.log("Log out Failure")}}).signOut;return Object(O.jsx)(T.a,{color:"primary",onClick:t,children:"LOGOUT"})},de=Object(b.a)((function(e){return{root:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",paddingRight:"2vw"},acionText:{fontWeight:g},headerButton:{fontWeight:"bold",fontSize:"14px"}}})),he=function(e){var t=de();return Object(O.jsx)("div",{className:t.root,children:Z.map((function(n){return"LOGOUT"===n.title?Object(O.jsx)(ue,{},n.title):Object(O.jsx)(T.a,{className:t.headerButton,color:"primary",onClick:e.onClick,children:n.title},n.route)}))})},je=Object(b.a)((function(e){return{header:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",position:"absolute",width:"100%",paddingTop:"3vh",top:"0"},candidateWrapper:{height:"60vh",overflow:"scroll",width:"70vw"},voteWrapper:{marginTop:"5vh",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}}})),be=function(e){var t=je(),n=Object(o.useState)(""),a=Object(S.a)(n,2),c=a[0],r=a[1],i=Object(o.useState)(P.a.get("currentUser")),s=Object(S.a)(i,2),l=s[0];s[1];return Object(O.jsxs)(Q,{children:[Object(O.jsxs)("div",{className:t.header,children:[Object(O.jsx)(oe,{}),Object(O.jsx)(he,{})]}),Object(O.jsxs)("div",{className:t.homeWrapper,children:[Object(O.jsx)("div",{className:t.candidateWrapper,children:X.map((function(e){return Object(O.jsx)(le,{name:e.name,handleSelect:r},e.name)}))}),Object(O.jsxs)("div",{className:t.voteWrapper,children:[Object(O.jsxs)(x,{children:["Currently Logged in as: ",l.firstName," ",l.lastName]}),Object(O.jsxs)(x,{children:["Selected Candidate: ",c]}),Object(O.jsx)(k,{handleClick:function(){var e={voter_addr:te.a.createHash("sha1").update(Math.random().toString()+c).digest("hex"),candidate:c};M.a.post("http://localhost:5000/transactions/new",e,{headers:{crossDomain:!0,"Access-Control-Allow-Origin":!0}}).then((function(){M.a.get("http://localhost:5000/mine",{headers:{crossDomain:!0,"Access-Control-Allow-Origin":!0}})})).then((function(){return console.log("vote successfully mined.")})).catch((function(e){return console.log("error: ",e)}))},buttonText:"Submit Vote"})]})]})]})},me=function(e){var t=Object(l.e)();return Object(O.jsxs)(Q,{children:[Object(O.jsx)(w,{primaryImage:h,marketingText:"SimplyVote"}),Object(O.jsx)(N,{fadedText:"ALREADY HAVE ONE?",actionText:"LOGIN TO YOUR ACCOUNT",onClick:function(){t.push("/"),H()}}),Object(O.jsx)(q,{header:"Welcome back!",showConfirmPassword:!1,showUsername:!1,onClick:function(e){t.push("/home")},loginText:"Login",snackBar:"Login Successful.",login:!1})]})};var pe=function(){return Object(O.jsx)(i.a,{theme:d,children:Object(O.jsxs)(s.a,{children:[Object(O.jsx)(l.a,{exact:!0,path:"/",component:$}),Object(O.jsx)(l.a,{exact:!0,path:"/login",component:$}),Object(O.jsx)(l.a,{exact:!0,path:"/signup",component:me}),Object(O.jsx)(l.a,{exact:!0,path:"/home",component:be})]})})};r.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(pe,{})}),document.getElementById("root"))}},[[420,1,2]]]);
//# sourceMappingURL=main.dae19869.chunk.js.map