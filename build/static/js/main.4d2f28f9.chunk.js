(this["webpackJsonpcomp4109-frontend"]=this["webpackJsonpcomp4109-frontend"]||[]).push([[0],{213:function(e,t,n){},330:function(e,t){},332:function(e,t){},344:function(e,t){},346:function(e,t){},373:function(e,t){},375:function(e,t){},376:function(e,t){},381:function(e,t){},383:function(e,t){},402:function(e,t){},414:function(e,t){},417:function(e,t){},420:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),i=n(13),c=n.n(i),r=(n(213),n(462)),s=n(49),l=n(15),u=n(199),d=Object(u.a)({typography:{button:{textTransform:"none"}},palette:{primary:{500:"#6200EE"}},overrides:{MuiButton:{text:{padding:"15px",paddingLeft:"50px",paddingRight:"50px",borderRadius:"5px"}}}}),h=n.p+"static/media/voteIcon.2e1e98fc.png",j=n(52),b=n(457),m=n(6),p=n(464),g="600",x=Object(m.a)({root:{fontSize:"34px",fontWeight:g,color:"black"}})(p.a),f=Object(m.a)({root:{fontSize:"24px",fontWeight:g,color:"black",marginBottom:"1em"}})(p.a),O=n(2),v=Object(b.a)((function(e){return{root:Object(j.a)({height:"100vh",width:"42%",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",backgroundColor:"".concat("#F2E7FE")},e.breakpoints.down("md"),{display:"none"}),headerText:{width:"60%",textAlign:"center",marginTop:"1em"},textWrapper:{display:"flex",flexDirection:"column",alignItems:"center",height:"20vh",marginBottom:"15vh",width:"20vw",zIndex:2},photo:{width:"120px",height:"120px"}}})),w=function(e){var t=v();return Object(O.jsx)("div",{className:t.root,children:Object(O.jsxs)("div",{className:t.textWrapper,children:[Object(O.jsx)("img",{src:e.primaryImage,alt:"voting icon",className:t.photo}),Object(O.jsx)("div",{className:t.headerText,children:Object(O.jsx)(x,{children:e.marketingText})})]})})},T=n(465),N=Object(b.a)((function(e){return{root:Object(j.a)({display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",position:"absolute",right:"0",top:"0",marginRight:"8em",marginTop:"2em",width:"25vw"},e.breakpoints.down("md"),{width:"50vw"}),acionText:{fontWeight:g},fadedText:{color:"#B0B0B0"},headerButton:{fontWeight:"bold",fontSize:"14px"}}})),y=function(e){var t=N();return Object(O.jsxs)("div",{className:t.root,children:[Object(O.jsx)("div",{className:t.fadedText,children:e.fadedText}),Object(O.jsx)(T.a,{className:t.headerButton,color:"primary",onClick:e.onClick,children:e.actionText})]})},C=n(18),S=Object(b.a)((function(e){return{loginButton:{borderRadius:"3px",fontWeight:"bold",fontSize:"fontSizeNormal"}}})),k=function(e){var t=S();return Object(O.jsx)(T.a,{variant:"contained",color:"primary",size:"large",onClick:e.handleClick,className:t.loginButton,children:e.buttonText})},L=n(36),I=n.n(L),A=(n(219),function(e){var t=e.studentNumber;return I.a.isEmpty(t)?"Student Number must not be empty.":I.a.isLength(t,{min:9,max:9})?"":"Student Number must be 9 digits long."}),B=function(e){var t=e.license;return I.a.isEmpty(t)?"Driver's License must not be empty.":I.a.isLength(t,{min:4})?"":"Driver's License must be at least 5 characters long."},D=function(e){var t=e.password;return I.a.isEmpty(t)?"Password must not be empty.":I.a.isLength(t,{min:5})?"":"Password must be at least 6 characters long."},W=n(467),E=n(463),z=n(115),U=n.n(z),R=n(196),F=n(87),G=n(197),H=n.n(G);var V=function(){var e=Object(l.e)(),t=Object(F.useGoogleLogin)({onSuccess:function(t){console.log("Login Success:",t.profileObj),function(e){var t=1e3*(e.tokenObj.expires_in||3300),n=function(){var o=Object(R.a)(U.a.mark((function o(){var a;return U.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,e.reloadAuthResponse();case 2:a=o.sent,t=1e3*(a.expires_in||3300),localStorage.setItem("authToken",a.id_token),setTimeout(n,t);case 6:case"end":return o.stop()}}),o)})));return function(){return o.apply(this,arguments)}}();setTimeout(n,t)}(t),e.push("/home")},onFailure:function(e){console.log("Login failed: :",e)},clientId:"1021955233686-g2cksio0gofnbvvmj0top1i2mfgon0i7.apps.googleusercontent.com",isSignedIn:!0,accessType:"offline"}).signIn;return Object(O.jsx)(T.a,{variant:"outlined",color:"primary",size:"large",startIcon:Object(O.jsx)(H.a,{}),onClick:t,children:"Sign in with Google"})},P=n(88),M=n.n(P),_=n(71),J=n.n(_),Y=Object(b.a)((function(e){return{loginContainer:Object(j.a)({display:"flex",flexDirection:"column",alignItems:"flex-start",width:"60%"},e.breakpoints.down("md"),{width:"100%"}),loginButtonWrapper:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",marginTop:"5vh"},loginButton:{borderRadius:"3px",fontWeight:"bold",fontSize:"fontSizeNormal"},wrapper:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"300px",paddingLeft:"10vw",paddingRight:"10vw"}}})),K=Object(m.a)({root:{width:"100%",marginTop:"5vh",height:function(e){return"true"===e.username?"450px":"375px"}}})(p.a),q=function(e){var t=Object(o.useState)(""),n=Object(C.a)(t,2),a=(n[0],n[1],Object(o.useState)("")),i=Object(C.a)(a,2),c=(i[0],i[1],Object(o.useState)("")),r=Object(C.a)(c,2),s=r[0],l=r[1],u=Object(o.useState)(""),d=Object(C.a)(u,2),h=d[0],j=(d[1],Object(o.useState)("")),b=Object(C.a)(j,2),m=b[0],p=b[1],g=Object(o.useState)(""),f=Object(C.a)(g,2),v=f[0],w=(f[1],Object(o.useState)("")),T=Object(C.a)(w,2),N=T[0],y=T[1],S=Object(o.useState)(""),L=Object(C.a)(S,2),I=L[0],z=L[1],U=Object(o.useState)(""),R=Object(C.a)(U,2),F=R[0],G=R[1],H=Object(o.useState)(""),P=Object(C.a)(H,2),_=P[0],q=P[1],Q=Object(o.useState)(""),X=Object(C.a)(Q,2),Z=X[0],$=X[1],ee=Object(o.useState)(""),te=Object(C.a)(ee,2),ne=te[0],oe=te[1],ae=Object(o.useState)(!1),ie=Object(C.a)(ae,2),ce=ie[0],re=ie[1],se=Object(o.useState)(e.snackBar),le=Object(C.a)(se,2),ue=le[0],de=le[1],he=function(e){return function(t){var n=t.target.value;"studentNumber"===e?(0===A({studentNumber:N}).length&&z(""),y(n)):"password"===e?(0===D({password:Z}).length&&oe(""),$(n)):"license"===e?(0===B({license:F}).length&&q(""),G(n)):"firstName"===e?l(n):"lastName"===e&&p(n)}},je=Y();return Object(O.jsxs)("div",{className:je.loginContainer,children:[Object(O.jsx)(W.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:ce,onClose:function(){re(!1)},message:ue}),Object(O.jsx)(x,{style:{paddingLeft:"10vw"},color:"#000000",children:e.header}),Object(O.jsxs)(K,{username:e.showUsername.toString(),children:[Object(O.jsxs)("div",{className:je.wrapper,children:[Object(O.jsx)(E.a,{error:0!==h.length,helperText:h,value:s,onChange:he("firstName"),label:"First Name"}),Object(O.jsx)(E.a,{error:0!==v.length,helperText:v,value:m,onChange:he("lastName"),label:"Last Name"}),Object(O.jsx)(E.a,{error:0!==I.length,helperText:I,value:N,onChange:he("studentNumber"),label:"Student Number"}),Object(O.jsx)(E.a,{error:0!==_.length,helperText:_,value:F,onChange:he("license"),label:"Driver's License"}),Object(O.jsx)(E.a,{error:0!==ne.length,helperText:ne,value:Z,onChange:he("password"),label:"Password",type:"password"})]}),Object(O.jsx)("div",{className:je.loginButtonWrapper,children:e.login?Object(O.jsx)(k,{handleClick:function(){if(function(){var e=D({password:Z}),t=A({studentNumber:N}),n=B({license:F});return oe(e),z(t),q(n),0===n.length&&0===t.length&&0===e.length}()){var t={firstName:s,lastName:m,license:F,studentNumber:N,password:Z};J.a.post("http://localhost:5000/verify",t,{headers:{crossDomain:!0,"Access-Control-Allow-Origin":!0}}).then((function(){de(e.snackBar),re(!0),M.a.set("currentUser",t),e.onClick()})).catch((function(e){console.log("error: ",e),de("User is unauthorized"),re(!0)}))}},buttonText:e.loginText}):Object(O.jsx)(V,{})})]})]})},Q=Object(m.a)({root:{height:"100vh",width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}})(p.a),X=[{name:"Ash Ketchum"},{name:"HaoHao Du"},{name:"Alexa Liaskovski"},{name:"Justin Tran"},{name:"Alex 4109"}],Z=[{title:"HOME",route:"home"},{title:"SETTINGS",route:"settings"},{title:"LOGOUT",route:"logout"}],$=function(e){var t=Object(l.e)();return Object(O.jsxs)(Q,{children:[Object(O.jsx)(w,{primaryImage:h,marketingText:"SimplyVote"}),Object(O.jsx)(y,{fadedText:"DON'T HAVE AN ACCOUNT?",actionText:"CREATE ACCOUNT",onClick:function(){t.push("/signup")}}),Object(O.jsx)(q,{header:"Welcome back!",showConfirmPassword:!1,showUsername:!1,onClick:function(e){t.push("/home")},loginText:"Login",snackBar:"Login Successful.",login:!0})]})},ee=n(198),te=n.n(ee),ne=Object(b.a)((function(e){return{root:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",paddingLeft:"2vw"},headerText:{width:"60%",textAlign:"center"},photo:{width:"45px",height:"45px"}}})),oe=function(e){var t=ne();return Object(O.jsxs)("div",{className:t.root,children:[Object(O.jsx)("img",{src:h,alt:"voting icon",className:t.photo}),Object(O.jsx)("div",{className:t.headerText,children:Object(O.jsx)(x,{children:"SimplyVote"})})]})},ae=n(458),ie=n(461),ce=n(459),re=n(460),se=Object(b.a)((function(e){return{root:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",background:"#F2F2F2",height:"15vh",marginTop:"2em"},headerText:{paddingLeft:"3em"},buttonText:{paddingRight:"3em"}}})),le=function(e){var t=se();return Object(O.jsxs)(ae.a,{className:t.root,children:[Object(O.jsx)(ce.a,{children:Object(O.jsx)(re.a,{component:"h5",variant:"h5",className:t.headerText,children:e.name})}),Object(O.jsx)(ie.a,{className:t.buttonText,children:Object(O.jsx)(k,{handleClick:function(){e.handleSelect(e.name)},buttonText:"Select"})})]})};var ue=function(){var e=Object(l.e)(),t=Object(F.useGoogleLogout)({clientId:"1021955233686-g2cksio0gofnbvvmj0top1i2mfgon0i7.apps.googleusercontent.com",onLogoutSuccess:function(t){console.log("Logged out Success"),e.push("/")},onFailure:function(){console.log("Log out Failure")}}).signOut;return Object(O.jsx)(T.a,{color:"primary",onClick:t,children:"LOGOUT"})},de=Object(b.a)((function(e){return{root:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",paddingRight:"2vw"},acionText:{fontWeight:g},headerButton:{fontWeight:"bold",fontSize:"14px"}}})),he=function(e){var t=de();return Object(O.jsx)("div",{className:t.root,children:Z.map((function(n){return"LOGOUT"===n.title?Object(O.jsx)(ue,{},n.title):Object(O.jsx)(T.a,{className:t.headerButton,color:"primary",onClick:e.onClick,children:n.title},n.route)}))})},je=Object(b.a)((function(e){return{header:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",position:"absolute",width:"100%",paddingTop:"3vh",top:"0"},candidateWrapper:{height:"60vh",overflow:"scroll",width:"70vw"},voteWrapper:{marginTop:"5vh",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}}})),be=function(e){var t=je(),n=Object(o.useState)(""),a=Object(C.a)(n,2),i=a[0],c=a[1],r=Object(o.useState)(M.a.get("currentUser")),s=Object(C.a)(r,2),l=s[0];s[1];return Object(O.jsxs)(Q,{children:[Object(O.jsxs)("div",{className:t.header,children:[Object(O.jsx)(oe,{}),Object(O.jsx)(he,{})]}),Object(O.jsxs)("div",{className:t.homeWrapper,children:[Object(O.jsx)("div",{className:t.candidateWrapper,children:X.map((function(e){return Object(O.jsx)(le,{name:e.name,handleSelect:c},e.name)}))}),Object(O.jsxs)("div",{className:t.voteWrapper,children:[Object(O.jsxs)(f,{children:["Currently Logged in as: ",l.firstName," ",l.lastName]}),Object(O.jsxs)(f,{children:["Selected Candidate: ",i]}),Object(O.jsx)(k,{handleClick:function(){var e={voter_addr:te.a.createHash("sha1").update(Math.random().toString()+i).digest("hex"),candidate:i};J.a.post("http://localhost:5000/transactions/new",e,{headers:{crossDomain:!0,"Access-Control-Allow-Origin":!0}}).then((function(){J.a.get("http://localhost:5000/mine",{headers:{crossDomain:!0,"Access-Control-Allow-Origin":!0}})})).then((function(){return console.log("vote successfully mined.")})).catch((function(e){return console.log("error: ",e)}))},buttonText:"Submit Vote"})]})]})]})},me=function(e){var t=Object(l.e)();return Object(O.jsxs)(Q,{children:[Object(O.jsx)(w,{primaryImage:h,marketingText:"SimplyVote"}),Object(O.jsx)(y,{fadedText:"ALREADY HAVE ONE?",actionText:"LOGIN TO YOUR ACCOUNT",onClick:function(){t.push("/"),V()}}),Object(O.jsx)(q,{header:"Welcome back!",showConfirmPassword:!1,showUsername:!1,onClick:function(e){t.push("/home")},loginText:"Login",snackBar:"Login Successful.",login:!1})]})};var pe=function(){return Object(O.jsx)(r.a,{theme:d,children:Object(O.jsxs)(s.a,{children:[Object(O.jsx)(l.a,{exact:!0,path:"/",component:$}),Object(O.jsx)(l.a,{exact:!0,path:"/login",component:$}),Object(O.jsx)(l.a,{exact:!0,path:"/signup",component:me}),Object(O.jsx)(l.a,{exact:!0,path:"/home",component:be})]})})};c.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(pe,{})}),document.getElementById("root"))}},[[420,1,2]]]);
//# sourceMappingURL=main.4d2f28f9.chunk.js.map